%        File: distributed-shared-data-clients.tex
%     Created: July 17, 2016
% Last Change: July 17, 2016
%
\documentclass{standalone}

\usepackage{tikz}
\usetikzlibrary{positioning, shapes, shapes.symbols, backgrounds, fit, arrows.meta, calc, chains, decorations.text}
\usepackage{courier} % courier font

\begin{document}
\begin{tikzpicture}[access/.style = {> = stealth, <->, line width = 3pt, blue!50},
  replicated/.style = {dashed, line width = 3pt, red!50}]

  % % data
  % \node[] (folder) {\includegraphics[scale = 0.03]{figs/folder-circle-icon.png}};   

  % %
  % \begin{scope}[start chain = circle placed {at = (\tikzchaincount * 90 : 4.0)}]
  %   \foreach \f in {0, 1, 2, 3} {
  %     \node[on chain] (f\f) {\includegraphics[scale = 0.04]{figs/folder-circle-icon.png}};
  %     \draw[replicated] (f\f) to (folder);
  %   }
  % \end{scope}
  % 
  % \begin{scope}[start chain = circle placed {at = (\tikzchaincount * 45 : 9.0)}]
  %   \foreach \c [evaluate = {\i = int(\c/2);}] in {0, 1, ..., 7} {
  %     \node[on chain] (c\c) {\includegraphics[scale = 0.40]{figs/client-pc-logo.png}};
  %     \draw[access] (c\c) to (f\i);
  %   }

  %   \draw[access] (c2) to (f0);
  %   \draw[access] (c6) to (f2);
  % \end{scope}

  \node[draw = blue, circle, double, double distance = 1.0cm, opacity = 0.80,
	  postaction={
		  decorate,
		  decoration = {
				raise = -1.5ex,
				text along path, 
				reverse path,
				text align = {fit to path stretching spaces},
				text = {|\ttfamily\huge\bf\color{blue!80}|\space Distributed Shared Data Service\space \space Distributed Shared Data Service\space}
		  }
	 }] (dsds) {\includegraphics[scale = 0.12]{figs/folder-circle-icon.png}};

  \begin{scope}[start chain = circle placed {at = (\tikzchaincount * 45 : 9.0)}]
	\foreach \c [evaluate = {\p = (\c + 1) * 45;}] in {0, 1, ..., 7} {
	  \node[on chain] (c\c) {\includegraphics[scale = 0.40]{figs/client-pc-logo.png}};
	  \draw[access] (c\c) to (dsds.\p);
	}
  \end{scope}
\end{tikzpicture}
\end{document}
